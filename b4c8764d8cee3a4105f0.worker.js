!function(e){function n(t){if(r[t])return r[t].exports;var s=r[t]={exports:{},id:t,loaded:!1};return e[t].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var r={};return n.m=e,n.c=r,n.p="/",n(0)}([function(e,n){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}();onmessage=function(e){var n=e.data;if("calculateTotals"===n.event){var r=n.payload,t=new s(r),o=t.getStats();postMessage({event:"updateTotals",payload:o})}};var s=function(){function e(n){r(this,e),this.logs=n,this.response={}}return t(e,[{key:"getStats",value:function(){var n=this;return this.response={},this.logs.forEach(function(r){var t=r.user_id;n.response[t]=n.response[t]||e.getNewUserLog(),"impression"===r.type&&n.response[t].impressions++,"conversion"===r.type&&n.response[t].conversions++,n.response[t].revenue+=r.revenue}),this.response}}],[{key:"getNewUserLog",value:function(){return{impressions:0,conversions:0,revenue:0}}}]),e}()}]);